{"version":3,"sources":["App.js","index.js"],"names":["urlrequest","queue","queueNames","getQueue","fetch","then","res","json","value","i","Object","keys","list","length","push","songId","title","texts","search","totalRows","rows","selected","rowsPerPage","page","of","prev","next","columnVisibility","console","log","columns","id","field","label","width","cellRenderer","tableManager","data","column","colIndex","rowIndex","useState","isActive","setActive","buttonState","buttonText","includes","className","onClick","name","url","part1Url","xhr","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","status","responseText","send","JSON","stringify","username","document","getElementById","window","alert","artist","bind","alttag","imgurl","setImg","useEffect","require","albumArt","album","size","err","tite","src","alt","searchable","App","setRows","out","items","filter","song","active","type","placeholder","isPaginated","pageSize","rootElement","ReactDOM","render"],"mappings":"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","file":"static/js/main.fd83509e.chunk.js","sourcesContent":["import \"./styles.css\";\nimport React from \"react\";\nimport GridTable from \"@nadavshaar/react-grid-table\";\nimport { func, object } from \"prop-types\";\nimport { useEffect, useState } from \"react\";\nimport styles from \"./styles.css\";\n\nlet url =\n  \"https://api.streamersonglist.com/v1/streamers/ninya_music/songs/export\";\n\nlet urlrequest =\n  \"https://api.streamersonglist.com/v1/streamers/ninya_music/queue\";\n\nconst queue = [];\nconst queueNames = [];\nlet pageSize = 10;\n\nasync function getQueue() {\n  fetch(urlrequest)\n    .then((res) => res.json())\n    .then(function (value) {\n      for (let i = 0; i < Object.keys(value.list).length; i++) {\n        queue.push(value.list[i].songId);\n        queueNames.push(value.list[i].title);\n      }\n    });\n}\n\ngetQueue();\nconst texts = {\n  search: \"Suche:\",\n  totalRows: \"Total Songs:\",\n  rows: \"Rows:\",\n  selected: \"Selected\",\n  rowsPerPage: \"Songs per page:\",\n  page: \"Page:\",\n  of: \"of\",\n  prev: \"Prev\",\n  next: \"Next\",\n  columnVisibility: \"Column visibility\"\n};\nconst showRowsInformation = false;\n\nconsole.log(texts);\n\nconst Song = ({\n  tableManager,\n  value,\n  field,\n  data,\n  column,\n  colIndex,\n  rowIndex\n}) => {\n  return (\n    <div\n      className=\"rgt-cell-inner\"\n      style={{ display: \"flex\", alignItems: \"center\", overflow: \"hidden\" }}\n    >\n      <img src={data.avatar} alt=\"user avatar\" />\n      <span className=\"rgt-text-truncate\" style={{ marginLeft: 10 }}>\n        {value}\n      </span>\n    </div>\n  );\n};\n\nconst Doubler = ({\n  tableManager,\n  value,\n  field,\n  data,\n  column,\n  colIndex,\n  rowIndex\n}) => {\n  return (\n    <div\n      className=\"rgt-cell-inner\"\n      style={{ display: \"flex\", alignItems: \"center\", overflow: \"hidden\" }}\n    >\n      <span className=\"rgt-text-truncate\" style={{ marginLeft: 10 }}>\n        {value}\n      </span>\n      <span className=\"rgt-text-truncate\" style={{ marginLeft: 10 }}>\n        {data.title}\n      </span>\n    </div>\n  );\n};\n\nconst TuEtwas = ({\n  tableManager,\n  value,\n  field,\n  data,\n  column,\n  colIndex,\n  rowIndex\n}) => {\n  //const [buttonText, setButtonText] = useState(\"Request Song\");\n  const [isActive, setActive] = useState(false);\n  let buttonState = \"buttonRequestfailed\";\n  let buttonText = \"Already Requested\";\n\n  if (queue.includes(data.id)) {\n    buttonText = \"Already Requested\";\n    buttonState = \"buttonRequestfailed\";\n  } else {\n    buttonText = \"Request Song\";\n    buttonState = \"buttonRequest\";\n  }\n\n  function button1Geklickt(name) {\n    getQueue();\n    //setButtonText(\"Song Reqested\");\n    setActive(!isActive);\n\n    var part1Url = \"https://api.streamersonglist.com/v1/streamers/\";\n    var streamerID = \"ninya_music\";\n    var songID = name.id;\n\n    var url = part1Url + streamerID + \"/queue/\" + songID + \"/request\";\n    var xhr = new XMLHttpRequest();\n    xhr.open(\"POST\", url);\n    xhr.setRequestHeader(\"accept\", \"application/json\");\n    xhr.setRequestHeader(\"origin\", \"Musik\");\n    xhr.setRequestHeader(\"content-type\", \"application/json\");\n    //xhr.setRequestHeader(\"Content-Length\", \"0\");\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === 4) {\n        console.log(xhr.status);\n        console.log(xhr.responseText);\n      }\n    };\n    xhr.send(\n      JSON.stringify({ username: document.getElementById(\"fname\").value })\n    );\n    window.alert(\"Song requested: \" + name.artist + \" - \" + name.title);\n    console.log(queue);\n  }\n  return (\n    <>\n      <button\n        className={buttonState}\n        onClick={button1Geklickt.bind(this, data)}\n      >\n        {buttonText}\n      </button>\n    </>\n  );\n};\n\nconst AlbumArt = ({ data }) => {\n  const [imgurl, setImg] = useState([]);\n  useEffect(() => {\n    const albumArt = require(\"album-art\");\n\n    /* DEMO */\n    const artist = data.artist;\n    const options = {\n      album: data.title,\n      size: \"large\"\n    };\n    albumArt(artist, options, function (err, res) {\n      setImg(res);\n    });\n  }, []);\n  var alttag;\n  alttag = \"Cover von \" + data.artist + \" - \" + data.tite;\n\n  return (\n    <>\n      <img className=\"zoomer\" src={imgurl} alt={alttag} />\n    </>\n  );\n};\n\nconst columns = [\n  {\n    id: 1,\n    field: \"artist\",\n    label: \"KÃ¼nstler\",\n    width: \"30%\"\n  },\n  {\n    id: 2,\n    field: \"title\",\n    label: \"Titel\",\n    width: \"30%\"\n  },\n  {\n    id: 3,\n    label: \"Request\",\n    field: \"title\",\n    cellRenderer: TuEtwas,\n    width: \"10%\"\n  },\n  {\n    id: 4,\n    label: \"\",\n    field: \"id\",\n    cellRenderer: AlbumArt,\n    width: \"5%\"\n  },\n  {\n    id: 5,\n    label: \"Attribute\",\n    field: \"attributes\",\n    width: \"5%\",\n    searchable: true\n  }\n];\n\nconst App = () => {\n  const [rows, setRows] = useState([]);\n  useEffect(() => {\n    fetch(url)\n      .then((res) => res.json())\n      .then((out) => setRows(out.items.filter((song) => song.active === true)));\n  }, []);\n\n  return (\n    <>\n      <div className=\"usernameInput\">\n        {\" \"}\n        <input\n          className=\"usernameInput\"\n          type=\"text\"\n          id=\"fname\"\n          name=\"fname\"\n          placeholder=\"Username\"\n        />\n      </div>\n      <GridTable\n        columns={columns}\n        rows={rows}\n        isPaginated={false}\n        pageSize={pageSize}\n        texts={texts}\n      />\n    </>\n  );\n};\n\nexport default App;\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}