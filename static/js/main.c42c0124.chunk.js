(this["webpackJsonpreact-grid-table-usage"]=this["webpackJsonpreact-grid-table-usage"]||[]).push([[0],{31:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n(7),i=n.n(a),r=n(4),c=n(2),u=n(8),l=(n(5),n(9)),o=n.n(l),d=n(0),b="https://api.streamersonglist.com/v1/streamers/ninya_music/queue",f=[],m=[];function j(){return p.apply(this,arguments)}function p(){return(p=Object(u.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(b).then((function(e){return e.json()})).then((function(e){for(var t=0;t<Object.keys(e.list).length;t++)f.push(e.list[t].songId),m.push(e.list[t].title)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}j();var h=[{id:1,field:"artist",label:"K\xfcnstler",width:"20%"},{id:2,field:"title",label:"Titel",width:"20%"},{id:3,label:"Request",field:"title",cellRenderer:function(e){e.tableManager,e.value,e.field;var t=e.data,n=(e.column,e.colIndex,e.rowIndex,Object(s.useState)(!1)),a=Object(c.a)(n,2),i=a[0],r=a[1],u="buttonRequestfailed",l="Already Requested";return f.includes(t.id)?(l="Already Requested",u="buttonRequestfailed"):(l="Request Song",u="buttonRequest"),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("button",{className:u,onClick:function(e){j(),r(!i);var t="https://api.streamersonglist.com/v1/streamers/ninya_music/queue/"+e.id+"/request",n=new XMLHttpRequest;n.open("POST",t),n.setRequestHeader("accept","application/json"),n.setRequestHeader("origin","Musik"),n.setRequestHeader("content-type","application/json"),n.onreadystatechange=function(){4===n.readyState&&(console.log(n.status),console.log(n.responseText))},n.send(JSON.stringify({username:document.getElementById("fname").value})),window.alert("Song requested: "+e.artist+" - "+e.title),console.log(f)}.bind(undefined,t),children:l})})},width:"20%"},{id:4,label:"Album Cover",field:"id",cellRenderer:function(e){var t,a=e.data,i=Object(s.useState)([]),r=Object(c.a)(i,2),u=r[0],l=r[1];return Object(s.useEffect)((function(){n(19)(a.artist,{album:a.title,size:"large"},(function(e,t){l(t)}))}),[]),t="Cover von "+a.artist+" - "+a.tite,Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("img",{className:"zoomer",src:u,alt:t})})},width:"10%"},{id:5,label:"Attributes",field:"attributes",width:"20%"}],g=function(){var e=Object(s.useState)([]),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(s.useEffect)((function(){fetch("https://api.streamersonglist.com/v1/streamers/ninya_music/songs/export").then((function(e){return e.json()})).then((function(e){return a(e.items.filter((function(e){return!0===e.active})))}))}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"usernameInput",children:[" ",Object(d.jsx)("input",{className:"usernameInput",type:"text",id:"fname",name:"fname",placeholder:"Username"})]}),Object(d.jsx)(o.a,{columns:h,rows:n,isPaginated:!0})]})},O=document.getElementById("root");i.a.render(Object(d.jsx)(s.StrictMode,{children:Object(d.jsx)(g,{})}),O)},5:function(e,t,n){}},[[31,1,2]]]);
//# sourceMappingURL=main.c42c0124.chunk.js.map